<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mini Jumia</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
</head>
<body  style="background-color: rgb(228, 228, 228);" onload="displayProducts()">
    <div class="container-fluid ">
        <div class="row py-4">
            <div class="col-5 shadow-lg rounded-3 mx-auto">
                <h1 class="text-center text-success">Mini Jumia</h1>
            <input type="text" class=" shadow-sm form-control my-2" style="background-color: rgb(228, 228, 228); border: thin solid rgb(216, 226, 216);" placeholder="Enter your product name" id="productName">
            <input type="text" class=" shadow-sm form-control my-2" style="background-color: rgb(228, 228, 228); border: thin solid rgb(216, 226, 216);" placeholder="Enter your product Quantity" id="productQuantity">
            <input type="text" class=" shadow-sm form-control my-2" style="background-color: rgb(228, 228, 228); border: thin solid rgb(216, 226, 216);" placeholder="Enter your product category" id="productCategory">
            <input type="text" class=" shadow-sm form-control my-2" style="background-color: rgb(228, 228, 228); border: thin solid rgb(216, 226, 216);" placeholder="Enter the price of your product" id="productPrice">
            <button class="btn btn-success w-100 my-2 shadow-sm" style="transition:2s ;" onclick="checkButton()">CHECK</button>
            </div>
        </div>
    </div>

    <div id="display">

    </div> 

    <!-- Button trigger modal -->
<!-- <button type="button" class="btn btn-primary" >
    Launch demo modal
  </button> -->
  
  <!-- Modal -->
  <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
            <input type="text" class=" shadow-sm form-control my-2" style="background-color: rgb(228, 228, 228); border: thin solid rgb(216, 226, 216);" placeholder="Enter your product name" id="pn" >
            <input type="text" class=" shadow-sm form-control my-2" style="background-color: rgb(228, 228, 228); border: thin solid rgb(216, 226, 216);" placeholder="Enter your product Quantity" id="pq">
            <input type="text" class=" shadow-sm form-control my-2" style="background-color: rgb(228, 228, 228); border: thin solid rgb(216, 226, 216);" placeholder="Enter your product category" id="pc">
            <input type="text" class=" shadow-sm form-control my-2" style="background-color: rgb(228, 228, 228); border: thin solid rgb(216, 226, 216);" placeholder="Enter the price of your product" id="pp">
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary" onclick="saveChanges()" data-dismiss="modal">Save changes</button>
        </div>
      </div>
    </div>
  </div>
   

    <script>
        var editedIndex;
        
         function displayProducts() {
             display.innerHTML = ""

             display.innerHTML += `
             <table id="myTable" class="table table-striped ">
             <tr>
                <th>S/N</th>
                <th>Product Name</th>
                <th>Product Quantity</th>
                <th>Product Category</th>
                <th>Product Price</th>
                <th>Actions</th>
                </tr>
               
                ` 
            for (let index = 1; index < allProducts.length; index++) {
                myTable.innerHTML += ` 
                
                <tr>
                <td>${index}</td>
                <td> ${allProducts[index].productname} <td>
                <td> ${allProducts[index].productquantity} <td>
                <td> ${allProducts[index].productcategory} <td>
                <td> ${allProducts[index].productprice} <td>
                <td>
                    <button class="btn btn-outline-success" onclick="editProduct(${index})" data-toggle="modal" data-target="#exampleModal"  id="editProduct">  Edit</button>
                    <button class="btn btn-outline-danger"  onclick="deleteProduct(${index})" id="deleteProduct"> Delete</button> 
                </td>       
                    </tr>
               
                    
                ` 
              }
              
              display.innerHTML += `</table>`               
         }

         var allProducts = []
         function checkButton() {
    
              var product = {
                productname : productName.value,
                productquantity : productQuantity.value,
                productcategory : productCategory.value,
                productprice : productPrice.value
             }
             allProducts.push(product)
             displayProducts();
             }
      

         function deleteProduct(index) {
            allProducts.splice(index, 1)
            displayProducts();
         }

         function editProduct(index) {
            editedIndex = index
         }

         function saveChanges() {
             console.log(pn.value, pq.value, pc.value, pp.value)
            var product = {
                productname : pn.value,
                productquantity : pq.value,
                productcategory : pc.value,
                productprice : pp.value
             }
             pn.value = ""
             pq.value = ""
             pc.value = ""
             pp.value = ""

            allProducts.splice(editedIndex, 1 , product)
            displayProducts();
         }



    </script>

<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-Fy6S3B9q64WdZWQUiU+q4/2Lc9npb8tCaSX9FK7E8HnRr0Jz8D6OP9dO5Vg3Q9ct" crossorigin="anonymous"></script>
</body>
</html>